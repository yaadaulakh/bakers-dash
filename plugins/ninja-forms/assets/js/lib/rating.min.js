!function(t){t.fn.rating=function(i){i=i||function(){};this.each(function(){t(this).data("rating",{callback:i}).on("init.rating",t.fn.rating.init).on("set.rating",t.fn.rating.set).on("hover.rating",t.fn.rating.hover).on("keydown",t.fn.rating.keydown).trigger("init.rating")})},t.extend(t.fn.rating,{init:function(){for(var i=t(this),n="",a=null,e=i.children(),r=e.length,o=0;o<r;o++){var s="true"===t(e[o]).attr("aria-required");n+='<a class="star" title="'+t(e[o]).val()+'" aria-label="star-'+t(e[o]).val()+'" aria-invalid="false" aria-checked="false" role="radio" tabindex="0"'+(s?' required aria-required="true"':"")+"></a>",t(e[o]).is(":checked")&&(a=t(e[o]).val())}i.append('<div class="stars" role="radiogroup">'+n+"</div>").trigger("set.rating",a),t("a",i).on("click",t.fn.rating.click),i.trigger("hover.rating")},set:function(i,n){var a,e=t(this),r=t("a",e);n?(r.removeClass("fullStar").attr("aria-checked","false"),(a=r.filter(function(){return t(this).attr("title")===n})).addClass("fullStar").attr("aria-checked","true").prevAll().addClass("fullStar").attr("aria-checked","true")):r.attr("aria-checked","false")},hover:function(){var i=t(this),n=t("a",i);n.on("mouseenter",function(){t(this).addClass("tmp_fs").prevAll().addClass("tmp_fs"),t(this).nextAll().addClass("tmp_es")}),n.on("mouseleave",function(){t(this).removeClass("tmp_fs").prevAll().removeClass("tmp_fs"),t(this).nextAll().removeClass("tmp_es")})},click:function(i){i.preventDefault();var n,a=t(i.target).closest(".starrating"),e=a.find("input"),r=t(i.target).attr("title");(n=e.filter(function(){return t(this).val()===r})).prop("checked",!0).trigger("change").siblings("input").prop("checked",!1),a.trigger("set.rating",n.val()).data("rating").callback(r,i)},keydown:function(i){var n=t(i.target),a=n.closest(".starrating").find("a"),e=a.index(n);switch(i.which){case 37:i.preventDefault(),e>0&&a.eq(e-1).focus();break;case 39:i.preventDefault(),e<a.length-1&&a.eq(e+1).focus();break;case 13:case 32:i.preventDefault(),t.fn.rating.click.call(n,i)}}})}(jQuery);